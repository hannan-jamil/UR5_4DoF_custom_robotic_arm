<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from src/ur5_4dof/urdf/ur5_4dof.urdf.xacro | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<robot name="ur5_4dof">
  <!-- === 1) UR5 4-DOF === -->
  <!-- Base -->
  <link name="base_link">
    <!-- Minimal Inertial block -->
    <inertial>
      <mass value="5.0"/>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <inertia ixx="0.1" ixy="0.0" ixz="0.0" iyy="0.1" iyz="0.0" izz="0.1"/>
    </inertial>
    <!-- Simple Collision block (same mesh as visual) -->
    <collision>
      <origin rpy="0 0 2.35619449" xyz="0 0 0.003"/>
      <geometry>
        <mesh filename="package://ur_description/meshes/ur5/visual/base.dae"/>
      </geometry>
    </collision>
    <visual>
      <geometry>
        <mesh filename="package://ur_description/meshes/ur5/visual/base.dae"/>
      </geometry>
      <!-- 3·π/4 = 2.35619449 rad -->
      <origin rpy="0 0 2.35619449" xyz="0 0 0.003"/>
    </visual>
  </link>
  <!-- Joint 1 -->
  <joint name="shoulder_pan_joint" type="revolute">
    <parent link="base_link"/>
    <child link="shoulder_link"/>
    <origin rpy="0 0 0" xyz="0 0 0.089159"/>
    <axis xyz="0 0 1"/>
    <limit effort="150" lower="-6.28318531" upper="6.28318531" velocity="3.14159265"/>
  </joint>
  <link name="shoulder_link">
    <inertial>
      <mass value="4.0"/>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <inertia ixx="0.08" ixy="0.0" ixz="0.0" iyy="0.08" iyz="0.0" izz="0.08"/>
    </inertial>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://ur_description/meshes/ur5/visual/shoulder.dae"/>
      </geometry>
    </collision>
    <visual>
      <geometry>
        <mesh filename="package://ur_description/meshes/ur5/visual/shoulder.dae"/>
      </geometry>
    </visual>
  </link>
  <!-- Joint 2 -->
  <joint name="shoulder_lift_joint" type="revolute">
    <parent link="shoulder_link"/>
    <child link="upper_arm_link"/>
    <!-- π/2 = 1.57079633 rad -->
    <origin rpy="0 1.57079633 0" xyz="0 0.13585 0"/>
    <axis xyz="0 1 0"/>
    <limit effort="150" lower="-6.28318531" upper="6.28318531" velocity="3.14159265"/>
  </joint>
  <link name="upper_arm_link">
    <inertial>
      <mass value="3.0"/>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <inertia ixx="0.06" ixy="0.0" ixz="0.0" iyy="0.06" iyz="0.0" izz="0.06"/>
    </inertial>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://ur_description/meshes/ur5/visual/upperarm.dae"/>
      </geometry>
    </collision>
    <visual>
      <geometry>
        <mesh filename="package://ur_description/meshes/ur5/visual/upperarm.dae"/>
      </geometry>
    </visual>
  </link>
  <!-- Joint 3 -->
  <joint name="elbow_joint" type="revolute">
    <parent link="upper_arm_link"/>
    <child link="forearm_link"/>
    <origin rpy="0 0 0" xyz="0 -0.1197 0.425"/>
    <axis xyz="0 1 0"/>
    <limit effort="150" lower="-6.28318531" upper="6.28318531" velocity="3.14159265"/>
  </joint>
  <link name="forearm_link">
    <inertial>
      <mass value="2.5"/>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <inertia ixx="0.05" ixy="0.0" ixz="0.0" iyy="0.05" iyz="0.0" izz="0.05"/>
    </inertial>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://ur_description/meshes/ur5/visual/forearm.dae"/>
      </geometry>
    </collision>
    <visual>
      <geometry>
        <mesh filename="package://ur_description/meshes/ur5/visual/forearm.dae"/>
      </geometry>
    </visual>
  </link>
  <!-- Joint 4 (combined wrist) -->
  <joint name="wrist_joint" type="revolute">
    <parent link="forearm_link"/>
    <child link="wrist_link"/>
    <origin rpy="0 0 0" xyz="0 0 0.39225"/>
    <axis xyz="0 1 0"/>
    <limit effort="28" lower="-3.14159265" upper="0.78539816" velocity="3.14159265"/>
  </joint>
  <link name="wrist_link">
    <inertial>
      <mass value="2.0"/>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <inertia ixx="0.04" ixy="0.0" ixz="0.0" iyy="0.04" iyz="0.0" izz="0.04"/>
    </inertial>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://ur_description/meshes/ur5/visual/wrist1.dae"/>
      </geometry>
    </collision>
    <visual>
      <geometry>
        <mesh filename="package://ur_description/meshes/ur5/visual/wrist1.dae"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
    </visual>
  </link>
  <!-- Fixed end-effector mount on the UR5 wrist -->
  <joint name="ee_fixed_joint" type="fixed">
    <parent link="wrist_link"/>
    <child link="ee_link"/>
    <origin rpy="0 0 0" xyz="0 0 0.17695"/>
  </joint>
  <link name="ee_link">
    <inertial>
      <mass value="1.5"/>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <inertia ixx="0.03" ixy="0.0" ixz="0.0" iyy="0.03" iyz="0.0" izz="0.03"/>
    </inertial>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <!-- no mesh since ee_link has no visual itself -->
      <geometry>
        <box size="0.05 0.05 0.05"/>
      </geometry>
    </collision>
  </link>
  <!-- mounting gripper directly to ee_link -->
  <joint name="gripper_mount_joint" type="fixed">
    <parent link="ee_link"/>
    <child link="grip_mount_link"/>
    <origin rpy="0 0 0" xyz="0 0.0943 -0.134"/>
  </joint>
  <link name="grip_mount_link">
    <inertial>
      <mass value="1.0"/>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <inertia ixx="0.02" ixy="0.0" ixz="0.0" iyy="0.02" iyz="0.0" izz="0.02"/>
    </inertial>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.03 0.02 0.02"/>
      </geometry>
    </collision>
  </link>
  <!-- === 1) Gripper Camera === -->
  <link name="gripper_camera_link">
    <inertial>
      <mass value="0.5"/>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <inertia ixx="0.005" ixy="0.0" ixz="0.0" iyy="0.005" iyz="0.0" izz="0.005"/>
    </inertial>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://ur5_4dof/meshes/camera.dae" scale="0.0025 0.0024 0.0012"/>
      </geometry>
    </collision>
    <visual>
      <geometry>
        <mesh filename="package://ur5_4dof/meshes/camera.dae" scale="0.0025 0.0024 0.0012"/>
      </geometry>
      <material name="CameraBody">
        <color rgba="0.1 0.6 0.9 1.0"/>
      </material>
    </visual>
  </link>
  <joint name="gripper_camera_joint" type="fixed">
    <parent link="grip_mount_link"/>
    <child link="gripper_camera_link"/>
    <!--
      We shift:
        +X (forward)  0.00 m
        +Y (left)     0.04 m
        +Z (up)       0.05 m
      And tilt by –10° around its local Y axis
    -->
    <origin rpy="0.0 -0.26179 1.5693" xyz="0.0317 0.0205 0.111"/>
  </joint>
  <gazebo reference="gripper_camera_link">
    <sensor name="gazebo_camera" type="camera">
      <always_on>1</always_on>
      <update_rate>30.0</update_rate>
      <camera>
        <horizontal_fov>1.047</horizontal_fov>
        <image>
          <width>640</width>
          <height>480</height>
          <format>R8G8B8</format>
        </image>
        <clip>
          <near>0.1</near>
          <far>100.0</far>
        </clip>
      </camera>
      <plugin filename="libgazebo_ros_camera.so" name="gazebo_ros_camera">
        <ros>
          <namespace>/camera</namespace>
          <remapping>
            <remap from="/image_raw" to="/camera/image_raw"/>
          </remapping>
        </ros>
        <cameraName>gazebo_camera</cameraName>
        <imageTopicName>image_raw</imageTopicName>
        <cameraInfoTopicName>camera_info</cameraInfoTopicName>
        <frameName>gripper_camera_link</frameName>
      </plugin>
    </sensor>
  </gazebo>
  <ros2_control name="gripper" type="system">
    <hardware>
      <plugin>mock_components/GenericSystem</plugin>
    </hardware>
    <!-- The right finger joint uses the mimic feature -->
    <joint name="robotiq_hande_left_finger_joint">
      <command_interface name="position">
        <param name="min">0</param>
        <param name="max">0.025</param>
      </command_interface>
      <state_interface name="position">
        <param name="initial_value">0.025</param>
      </state_interface>
      <state_interface name="velocity">
        <param name="initial_value">0</param>
      </state_interface>
    </joint>
  </ros2_control>
  <joint name="robotiq_hande_coupler_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <parent link="grip_mount_link"/>
    <child link="robotiq_hande_coupler"/>
  </joint>
  <link name="robotiq_hande_coupler">
    <visual>
      <geometry>
        <mesh filename="package://robotiq_hande_description/meshes/io_coupler.dae"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0.005449999999999999"/>
      <geometry>
        <cylinder length="0.0169" radius="0.0385"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.119"/>
      <origin rpy="0 0 0" xyz="0 0 0.005449999999999999"/>
      <inertia ixx="4.4668218799372e-05" ixy="0.0" ixz="0.0" iyy="4.4668218799372e-05" iyz="0.0" izz="8.367187499999999e-05"/>
    </inertial>
  </link>
  <!-- Hand body -->
  <joint name="robotiq_hande_base_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 0.011"/>
    <parent link="robotiq_hande_coupler"/>
    <child link="robotiq_hande_link"/>
  </joint>
  <link name="robotiq_hande_link">
    <visual>
      <geometry>
        <mesh filename="package://robotiq_hande_description/meshes/hande.dae"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0.053450000000000004"/>
      <geometry>
        <cylinder length="0.10690000000000001" radius="0.0385"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.86387"/>
      <origin rpy="0 0 0" xyz="0 0 0.0495"/>
      <inertia ixx="0.0010092697156669523" ixy="0.0" ixz="0.0" iyy="0.0010092697156669523" iyz="0.0" izz="0.00060740859375"/>
    </inertial>
  </link>
  <!-- 1) master “gripper” slider joint -->
  <joint name="gripper" type="prismatic">
    <origin rpy="0 0 0" xyz="0 0 0.099"/>
    <parent link="robotiq_hande_link"/>
    <child link="gripper_finger"/>
    <axis xyz="1 0 0"/>
    <limit effort="130" lower="0.0" upper="0.04" velocity="0.15"/>
  </joint>
  <link name="gripper_finger">
    <visual>
      <geometry>
        <mesh filename="package://robotiq_hande_description/meshes/finger.dae"/>
      </geometry>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://robotiq_hande_description/meshes/finger_collision.dae"/>
      </geometry>
    </collision>
  </link>
  <!-- 2) mimic joint, with identical limits -->
  <joint name="gripper_mimic" type="prismatic">
    <origin rpy="0 0 0" xyz="0 0 0.099"/>
    <parent link="robotiq_hande_link"/>
    <child link="gripper_finger_mimic"/>
    <axis xyz="-1 0 0"/>
    <limit effort="130" lower="0.0" upper="0.04" velocity="0.15"/>
    <mimic joint="gripper" multiplier="1" offset="0"/>
  </joint>
  <link name="gripper_finger_mimic">
    <visual>
      <origin rpy="0 0 3.141592653589793" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://robotiq_hande_description/meshes/finger.dae"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 3.141592653589793" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://robotiq_hande_description/meshes/finger_collision.dae"/>
      </geometry>
    </collision>
  </link>
  <!-- final fixed end link -->
  <joint name="robotiq_hande_end_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 0.14550000000000002"/>
    <parent link="robotiq_hande_link"/>
    <child link="robotiq_hande_end"/>
  </joint>
  <link name="robotiq_hande_end"/>
</robot>
